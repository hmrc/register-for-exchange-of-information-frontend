{% extends "govuk/template.njk" %}
{% from "hmrc/components/header/macro.njk"     import hmrcHeader %}
{% from "hmrc/components/report-technical-issue/macro.njk"     import hmrcReportTechnicalIssue %}
{% from "hmrc/components/timeout-dialog/macro.njk"     import hmrcTimeoutDialog %}

{%- set assetPath = "/assets/lib/govuk-frontend/govuk/assets" -%}
{%- set htmlLang = request.language -%}

{% block head %}
{{ hmrcTimeoutDialog({
  title: messages("timeout.title"),
  timeout: config.timeout,
  countdown: config.countdown,
  keepAliveUrl: routes.controllers.KeepAliveController.keepAlive().url,
  signOutUrl: routes.controllers.auth.AuthController.signOut(regime | lower).url,
  timeoutUrl: routes.controllers.SessionExpiredController.onPageLoad(regime | lower).url
}) }}
  {% include "includes/head.njk" %}
{% endblock %}

{% block header %}
  {{ hmrcHeader({
    homepageUrl: "https://www.gov.uk",
    serviceName: messages("site.service_name", regime | upper),
    serviceUrl: routes.controllers.IndexController.onPageLoad(regime | lower).url,
    containerClasses: "govuk-width-container",
    assetsPath: "/assets",
    signOutHref: routes.controllers.auth.AuthController.signOut(regime | lower).url
  }) }}

{% endblock %}

{% block beforeContent %}
{% endblock %}

{% block content %}
  {% block mainContent %}
  {% endblock %}
  {{ hmrcReportTechnicalIssue({
    serviceCode: config.serviceIdentifier,
    baseUrl: config.contactHost
  }) }}
{% endblock %}

{% block bodyEnd %}
  {% block scripts %}
    {% block pageScripts %}{% endblock %}
    {% include "includes/scripts.njk" %}
  {% endblock %}
{% endblock %}

{% block footer %}
  {% include "includes/footer.njk" %}
{% endblock %}
